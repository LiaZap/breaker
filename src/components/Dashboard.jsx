import React, { useState } from 'react';
import { useDashboard } from '../context/DashboardContext';
import Sidebar from './dashboard/Sidebar';
import DashboardHeader from './dashboard/DashboardHeader';
import FinanceOverview from './dashboard/FinanceOverview';
import MoneyOnTable from './dashboard/MoneyOnTable';
import TechnicalSheets from './dashboard/TechnicalSheets';
import CostStructure from './dashboard/CostStructure';
import DashboardTips from './dashboard/DashboardTips';
import BreakEvenGraphic from './dashboard/BreakEvenGraphic';
import FichaTecnica from './dashboard/FichaTecnica';
import FaturamentoAnualIcon from './dashboard/FaturamentoAnualIcon';
import RankingCategoriaIcon from './dashboard/RankingCategoriaIcon';
import ProximoNivelIcon from './dashboard/ProximoNivelIcon';
import RankingGeralIcon from './dashboard/RankingGeralIcon';
import MatrizPreco from './dashboard/MatrizPreco';
import EngenhariaMenu from './dashboard/EngenhariaMenu';

const Dashboard = () => {
  /* MOVED TO CONTEXT */
  const { dashboardData } = useDashboard();
  const [activePage, setActivePage] = useState('home');

  return (
    <div className="relative w-full h-screen bg-[#101010] font-jakarta text-white select-none flex flex-col overflow-x-hidden overflow-y-auto">
      
      <Sidebar activePage={activePage} onNavigate={setActivePage} />

      {activePage === 'fichaTecnica' ? (
        <div className="ml-0 md:ml-[85px] flex-1 min-h-0">
          <FichaTecnica />
        </div>
      ) : activePage === 'matrizPreco' ? (
        <div className="ml-0 md:ml-[85px] flex-1 min-h-0">
          <MatrizPreco />
        </div>
      ) : activePage === 'engenhariaMenu' ? (
        <div className="ml-0 md:ml-[85px] flex-1 min-h-0">
          <EngenhariaMenu />
        </div>
      ) : (
      <>
      {/* MAIN CONTENT */}
      <div className="ml-0 md:ml-[85px] py-2 flex flex-col min-h-0 shrink-0">
        <div className="max-w-[1500px] mx-auto px-3 md:px-6 w-full flex flex-col min-h-0">
        
        <DashboardHeader data={dashboardData} />

        {/* MAIN GRID - 4 columns layout (responsive fluid) */}
        <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-[1.2fr_2fr_1.2fr_1fr] gap-4 xl:gap-6 mb-0 min-h-0">
          
          {/* COL 1 - Left Panel */}
          <div className="flex flex-col h-full py-2">
            
            {/* 1. Header Small */}
            <div className="mb-8">
              <span className="block font-bold text-[14px] text-white leading-tight">Dashboard</span>
              <span className="block font-normal text-[11px] text-[#595959] leading-tight">Painel de Controle</span>
            </div>

            {/* 2. Date & Status Row */}
            <div className="flex items-center gap-5 mb-8">
               <div className="flex items-center gap-2">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#595959" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                  <span className="text-[#595959] font-medium text-[11px]">{dashboardData.period.date}</span>
               </div>
               <div className="flex items-center gap-2">
                  <div className="w-4 h-4 rounded-full bg-[#FDD789]/10 flex items-center justify-center">
                     <div className="w-2 h-2 rounded-full bg-[#FDD789]" />
                  </div>
                  <span className="text-[#595959] font-medium text-[11px]">{dashboardData.period.status}</span>
               </div>
            </div>

            {/* 3. Main Title */}
            <div className="mb-4 pr-4">
              <h1 className="text-[28px] leading-[1.15] tracking-tight mb-3">
                <span className="font-bold text-[#FF9406]">{dashboardData.restaurant.name}</span>
                <span className="font-medium text-[#E1E1E1]">, como <br/>você nunca viu antes</span>
              </h1>
              <p className="font-normal text-[12px] text-[#888] leading-snug w-full max-w-[280px]">
                {dashboardData.overview.subtitle}
              </p>
            </div>

            {/* 4. Pills Grid (Fixed Layout 3-2) */}
            <div className="flex flex-col gap-3 mb-auto mt-4">
               {/* Row 1 */}
               <div className="flex gap-2">
                  {dashboardData.overview.tags.slice(0, 3).map((tag, idx) => (
                    <div key={idx} className="bg-[#151515] border border-[#222] rounded-full px-3 py-1.5 flex items-center gap-2">
                       <span className="text-[10px] text-[#999] whitespace-nowrap">{tag.label}</span>
                       <div className={`w-2.5 h-1 rounded-full ${tag.color ? 'bg-[#E2FD89]' : 'bg-[#FDD789]'}`} style={{ backgroundColor: tag.color || '#FDD789' }} />
                    </div>
                  ))}
               </div>
               {/* Row 2 */}
               <div className="flex gap-2">
                  {dashboardData.overview.tags.slice(3, 5).map((tag, idx) => (
                    <div key={idx + 3} className="bg-[#151515] border border-[#222] rounded-full px-3 py-1.5 flex items-center gap-2">
                       <span className="text-[10px] text-[#999] whitespace-nowrap">{tag.label}</span>
                       <div className={`w-2.5 h-1 rounded-full ${tag.color ? 'bg-[#E2FD89]' : 'bg-[#FDD789]'}`} style={{ backgroundColor: tag.color || '#FDD789' }} />
                    </div>
                  ))}
               </div>
            </div>

            {/* Bottom Link */}
            <div className="flex items-center gap-2 mt-8">
              <span className="font-medium text-[11px] text-white">Dicas do Copiloto</span>
              <svg width="9" height="9" viewBox="0 0 10 10" fill="none" className="-rotate-45 text-[#999]">
                 <path d="M1 9L9 1M9 1H3M9 1V7" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </div>
          </div>

          {/* COL 2 - Faturamento */}
          <div>
            <FinanceOverview data={dashboardData.revenue} />
          </div>

          {/* COL 3 - Ponto de Equilíbrio */}
          <div>
            <div className="flex items-center justify-between mb-2">
              <div className="flex flex-col gap-[2px]">
                <span className="font-semibold text-[11px] text-[#CACACA]">Ponto de Equilíbrio</span>
                <span className="font-normal text-[10px] text-[#595959]">Quando o lucro aparece</span>
              </div>
              <svg width="82" height="29" viewBox="0 0 82 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clipPath="url(#clip0_2080_5850)">
                  <path d="M17.2083 15.5833C17.352 15.5833 17.4898 15.5263 17.5914 15.4247C17.6929 15.3231 17.75 15.1853 17.75 15.0417C17.75 14.898 17.6929 14.7602 17.5914 14.6587C17.4898 14.5571 17.352 14.5 17.2083 14.5C17.0647 14.5 16.9269 14.5571 16.8253 14.6587C16.7237 14.7602 16.6667 14.898 16.6667 15.0417C16.6667 15.1853 16.7237 15.3231 16.8253 15.4247C16.9269 15.5263 17.0647 15.5833 17.2083 15.5833ZM17.2083 17.75C17.352 17.75 17.4898 17.6929 17.5914 17.5914C17.6929 17.4898 17.75 17.352 17.75 17.2083C17.75 17.0647 17.6929 16.9269 17.5914 16.8253C17.4898 16.7237 17.352 16.6667 17.2083 16.6667C17.0647 16.6667 16.9269 16.7237 16.8253 16.8253C16.7237 16.9269 16.6667 17.0647 16.6667 17.2083C16.6667 17.352 16.7237 17.4898 16.8253 17.5914C16.9269 17.6929 17.0647 17.75 17.2083 17.75ZM15.0417 15.0417C15.0417 15.1853 14.9846 15.3231 14.883 15.4247C14.7814 15.5263 14.6437 15.5833 14.5 15.5833C14.3563 15.5833 14.2186 15.5263 14.117 15.4247C14.0154 15.3231 13.9583 15.1853 13.9583 15.0417C13.9583 14.898 14.0154 14.7602 14.117 14.6587C14.2186 14.5571 14.3563 14.5 14.5 14.5C14.6437 14.5 14.7814 14.5571 14.883 14.6587C14.9846 14.7602 15.0417 14.898 15.0417 15.0417ZM15.0417 17.2083C15.0417 17.352 14.9846 17.4898 14.883 17.5914C14.7814 17.6929 14.6437 17.75 14.5 17.75C14.3563 17.75 14.2186 17.6929 14.117 17.5914C14.0154 17.4898 13.9583 17.352 13.9583 17.2083C13.9583 17.0647 14.0154 16.9269 14.117 16.8253C14.2186 16.7237 14.3563 16.6667 14.5 16.6667C14.6437 16.6667 14.7814 16.7237 14.883 16.8253C14.9846 16.9269 15.0417 17.0647 15.0417 17.2083ZM11.7917 15.5833C11.9353 15.5833 12.0731 15.5263 12.1747 15.4247C12.2763 15.3231 12.3333 15.1853 12.3333 15.0417C12.3333 14.898 12.2763 14.7602 12.1747 14.6587C12.0731 14.5571 11.9353 14.5 11.7917 14.5C11.648 14.5 11.5102 14.5571 11.4087 14.6587C11.3071 14.7602 11.25 14.898 11.25 15.0417C11.25 15.1853 11.3071 15.3231 11.4087 15.4247C11.5102 15.5263 11.648 15.5833 11.7917 15.5833ZM11.7917 17.75C11.9353 17.75 12.0731 17.6929 12.1747 17.5914C12.2763 17.4898 12.3333 17.352 12.3333 17.2083C12.3333 17.0647 12.2763 16.9269 12.1747 16.8253C12.0731 16.7237 11.9353 16.6667 11.7917 16.6667C11.648 16.6667 11.5102 16.7237 11.4087 16.8253C11.3071 16.9269 11.25 17.0647 11.25 17.2083C11.25 17.352 11.3071 17.4898 11.4087 17.5914C11.5102 17.6929 11.648 17.75 11.7917 17.75Z" fill="#C4C4C4"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M11.7917 8.94791C11.8994 8.94791 12.0027 8.99072 12.0789 9.0669C12.1551 9.14309 12.1979 9.24642 12.1979 9.35416V9.76746C12.5565 9.76041 12.9514 9.76041 13.3858 9.76041H15.6137C16.0486 9.76041 16.4435 9.76041 16.8021 9.76746V9.35416C16.8021 9.24642 16.8449 9.14309 16.9211 9.0669C16.9972 8.99072 17.1006 8.94791 17.2083 8.94791C17.3161 8.94791 17.4194 8.99072 17.4956 9.0669C17.5718 9.14309 17.6146 9.24642 17.6146 9.35416V9.80212C17.7554 9.81296 17.8888 9.82668 18.0149 9.84329C18.6497 9.92887 19.1637 10.1087 19.5694 10.5139C19.9746 10.9196 20.1544 11.4336 20.24 12.0685C20.3229 12.686 20.3229 13.4741 20.3229 14.4697V15.6137C20.3229 16.6092 20.3229 17.3979 20.24 18.0149C20.1544 18.6497 19.9746 19.1637 19.5694 19.5695C19.1637 19.9746 18.6497 20.1545 18.0149 20.24C17.3974 20.3229 16.6092 20.3229 15.6137 20.3229H13.3869C12.3913 20.3229 11.6026 20.3229 10.9857 20.24C10.3508 20.1545 9.83678 19.9746 9.43107 19.5695C9.0259 19.1637 8.84607 18.6497 8.76049 18.0149C8.67761 17.3974 8.67761 16.6092 8.67761 15.6137V14.4697C8.67761 13.4741 8.67761 12.6854 8.76049 12.0685C8.84607 11.4336 9.0259 10.9196 9.43107 10.5139C9.83678 10.1087 10.3508 9.92887 10.9857 9.84329C11.112 9.82668 11.2455 9.81296 11.3859 9.80212V9.35416C11.3859 9.24651 11.4287 9.14326 11.5047 9.06709C11.5808 8.99092 11.684 8.94806 11.7917 8.94791ZM11.0929 10.6487C10.5485 10.7219 10.2344 10.8595 10.0052 11.0886C9.77611 11.3177 9.63853 11.6319 9.5654 12.1762C9.55313 12.2683 9.54265 12.3657 9.53399 12.4682H19.466C19.4573 12.3657 19.4468 12.2682 19.4346 12.1757C19.3614 11.6313 19.2239 11.3172 18.9947 11.088C18.7656 10.8589 18.4514 10.7213 17.9065 10.6482C17.3502 10.5735 16.6163 10.5724 15.5833 10.5724H13.4167C12.3837 10.5724 11.6503 10.574 11.0929 10.6487ZM9.48957 14.5C9.48957 14.0374 9.48957 13.635 9.49661 13.2812H19.5034C19.5104 13.635 19.5104 14.0374 19.5104 14.5V15.5833C19.5104 16.6163 19.5093 17.3502 19.4346 17.9071C19.3614 18.4515 19.2239 18.7656 18.9947 18.9947C18.7656 19.2239 18.4514 19.3615 17.9065 19.4346C17.3502 19.5093 16.6163 19.5104 15.5833 19.5104H13.4167C12.3837 19.5104 11.6503 19.5093 11.0929 19.4346C10.5485 19.3615 10.2344 19.2239 10.0052 18.9947C9.77611 18.7656 9.63853 18.4515 9.5654 17.9065C9.49065 17.3502 9.48957 16.6163 9.48957 15.5833V14.5Z" fill="#C4C4C4"/>
                </g>
                <path d="M25.54 19V18.32L27.6 16.09C28.0067 15.6567 28.33 15.3 28.57 15.02C28.8167 14.74 28.9967 14.49 29.11 14.27C29.2233 14.05 29.28 13.8167 29.28 13.57C29.28 13.1633 29.16 12.85 28.92 12.63C28.68 12.41 28.3633 12.3 27.97 12.3C27.57 12.3 27.23 12.4167 26.95 12.65C26.67 12.8767 26.4767 13.2 26.37 13.62L25.48 13.39C25.5667 12.99 25.7267 12.6433 25.96 12.35C26.1933 12.0567 26.4833 11.83 26.83 11.67C27.1767 11.51 27.5567 11.43 27.97 11.43C28.4233 11.43 28.82 11.52 29.16 11.7C29.5067 11.8733 29.7767 12.1167 29.97 12.43C30.17 12.7433 30.27 13.1067 30.27 13.52C30.27 13.7933 30.2133 14.06 30.1 14.32C29.9867 14.58 29.82 14.8567 29.6 15.15C29.38 15.4367 29.0933 15.77 28.74 16.15L26.9 18.15H30.43V19H25.54ZM34.1363 19.12C33.6363 19.12 33.193 19.02 32.8063 18.82C32.4263 18.62 32.1263 18.35 31.9063 18.01C31.693 17.6633 31.5863 17.2767 31.5863 16.85C31.5863 16.37 31.7197 15.95 31.9863 15.59C32.253 15.23 32.6197 14.9733 33.0863 14.82L33.0663 15.07C32.713 14.93 32.4363 14.7067 32.2363 14.4C32.043 14.0867 31.9463 13.75 31.9463 13.39C31.9463 13.01 32.0397 12.6733 32.2263 12.38C32.4197 12.0867 32.6797 11.8567 33.0063 11.69C33.3397 11.5167 33.7163 11.43 34.1363 11.43C34.5563 11.43 34.9297 11.5133 35.2563 11.68C35.583 11.8467 35.8397 12.08 36.0263 12.38C36.2197 12.6733 36.3163 13.01 36.3163 13.39C36.3163 13.77 36.213 14.11 36.0063 14.41C35.8063 14.71 35.5397 14.9333 35.2063 15.08L35.1763 14.82C35.6497 14.9733 36.0197 15.2333 36.2863 15.6C36.553 15.96 36.6863 16.3767 36.6863 16.85C36.6863 17.2767 36.5763 17.6633 36.3563 18.01C36.143 18.35 35.843 18.62 35.4563 18.82C35.0763 19.02 34.6363 19.12 34.1363 19.12ZM34.1363 18.27C34.4497 18.27 34.723 18.21 34.9563 18.09C35.1897 17.97 35.3697 17.8033 35.4963 17.59C35.6297 17.37 35.6963 17.12 35.6963 16.84C35.6963 16.5533 35.6297 16.3033 35.4963 16.09C35.3697 15.87 35.1897 15.7033 34.9563 15.59C34.723 15.47 34.4497 15.41 34.1363 15.41C33.823 15.41 33.5463 15.47 33.3063 15.59C33.073 15.7033 32.893 15.87 32.7663 16.09C32.6397 16.3033 32.5763 16.5533 32.5763 16.84C32.5763 17.12 32.6397 17.37 32.7663 17.59C32.893 17.8033 33.073 17.97 33.3063 18.09C33.5463 18.21 33.823 18.27 34.1363 18.27ZM34.1363 14.56C34.363 14.56 34.563 14.51 34.7363 14.41C34.9163 14.31 35.0597 14.1767 35.1663 14.01C35.273 13.8367 35.3263 13.6367 35.3263 13.41C35.3263 13.1833 35.273 12.9867 35.1663 12.82C35.0597 12.6533 34.9163 12.5233 34.7363 12.43C34.563 12.33 34.363 12.28 34.1363 12.28C33.903 12.28 33.6963 12.33 33.5163 12.43C33.3363 12.5233 33.193 12.6533 33.0863 12.82C32.9797 12.9867 32.9263 13.1833 32.9263 13.41C32.9263 13.6367 32.9797 13.8367 33.0863 14.01C33.193 14.1767 33.3363 14.31 33.5163 14.41C33.6963 14.51 33.903 14.56 34.1363 14.56ZM39.5039 19V18.05H39.9139C40.2672 18.05 40.5472 17.9467 40.7539 17.74C40.9606 17.5267 41.0639 17.24 41.0639 16.88V11.55H42.0539V16.86C42.0539 17.2933 41.9639 17.67 41.7839 17.99C41.6106 18.31 41.3639 18.56 41.0439 18.74C40.7239 18.9133 40.3472 19 39.9139 19H39.5039ZM45.1613 19.12C44.808 19.12 44.4947 19.0567 44.2213 18.93C43.9547 18.7967 43.7447 18.6167 43.5913 18.39C43.438 18.1567 43.3613 17.89 43.3613 17.59C43.3613 17.3033 43.4213 17.0467 43.5413 16.82C43.668 16.5867 43.8613 16.39 44.1213 16.23C44.388 16.07 44.7213 15.9567 45.1213 15.89L47.1213 15.56V16.34L45.3313 16.64C44.9847 16.7 44.7313 16.81 44.5713 16.97C44.418 17.13 44.3413 17.3267 44.3413 17.56C44.3413 17.78 44.428 17.9633 44.6013 18.11C44.7813 18.2567 45.0047 18.33 45.2713 18.33C45.6113 18.33 45.9047 18.26 46.1513 18.12C46.4047 17.9733 46.6013 17.7767 46.7413 17.53C46.888 17.2833 46.9613 17.01 46.9613 16.71V15.34C46.9613 15.0467 46.8513 14.81 46.6313 14.63C46.418 14.4433 46.1347 14.35 45.7813 14.35C45.4747 14.35 45.2013 14.43 44.9613 14.59C44.728 14.7433 44.5547 14.95 44.4413 15.21L43.6313 14.79C43.7313 14.5433 43.8913 14.3233 44.1113 14.13C44.3313 13.93 44.588 13.7733 44.8813 13.66C45.1747 13.5467 45.4813 13.49 45.8013 13.49C46.2147 13.49 46.578 13.57 46.8913 13.73C47.2047 13.8833 47.448 14.1 47.6213 14.38C47.8013 14.6533 47.8913 14.9733 47.8913 15.34V19H46.9813V17.98L47.1513 18.04C47.038 18.2533 46.8847 18.44 46.6913 18.6C46.498 18.76 46.2713 18.8867 46.0113 18.98C45.7513 19.0733 45.468 19.12 45.1613 19.12ZM49.3333 19V13.61H50.2433V14.66L50.0933 14.57C50.2266 14.23 50.4399 13.9667 50.7333 13.78C51.0333 13.5867 51.3833 13.49 51.7833 13.49C52.1699 13.49 52.5133 13.5767 52.8133 13.75C53.1199 13.9233 53.3599 14.1633 53.5333 14.47C53.7133 14.7767 53.8033 15.1233 53.8033 15.51V19H52.8633V15.81C52.8633 15.51 52.8099 15.2567 52.7033 15.05C52.5966 14.8433 52.4433 14.6833 52.2433 14.57C52.0499 14.45 51.8266 14.39 51.5733 14.39C51.3199 14.39 51.0933 14.45 50.8933 14.57C50.6999 14.6833 50.5466 14.8467 50.4333 15.06C50.3199 15.2667 50.2633 15.5167 50.2633 15.81V19H49.3333Z" fill="#595959"/>
                <rect x="62" y="12.7968" width="7.50943" height="3.40634" rx="1.70317" fill="#FD8989"/>
                <rect x="60.2968" y="11.0937" width="10.9158" height="6.81269" rx="3.40634" stroke="#FD8989" strokeOpacity="0.19" strokeWidth="3.40634"/>
                <defs>
                  <clipPath id="clip0_2080_5850">
                    <rect width="13" height="13" fill="white" transform="translate(8 8)"/>
                  </clipPath>
                </defs>
              </svg>
            </div>

            {/* Gauge Chart */}
            <div className="w-full mb-2">
              <BreakEvenGraphic 
                percentage={dashboardData.breakEven.percentage}
                value={`R$ ${dashboardData.breakEven.current}`}
              />
            </div>


            {/* Info tooltip */}
            <div className="p-2.5 bg-[#1B1B1D] border border-[#2F2F31] rounded-[8px] mb-3">
              <p className="font-normal text-[8px] text-[#7E7E7E] leading-[1.4]">
                A partir do ponto de equilíbrio, cada venda contribui diretamente para o lucro real do negócio. Mantenha os custos fixos controlados para atingir essa meta mais cedo.
              </p>
            </div>

            {/* Base Info Box */}
            <div className="p-3 bg-[#FF9406] rounded-[10px] flex flex-col items-center justify-center text-center">
              <div className="flex items-center gap-2 mb-1">
                <span className="font-semibold text-[10px] text-black">Base %</span>
                <span className="px-2 py-0.5 bg-black/20 rounded text-[8px] text-black">{dashboardData.breakEven.base.status}</span>
              </div>
              <span className="font-semibold text-[18px] text-black">{dashboardData.breakEven.base.value}</span>
              <p className="font-normal text-[9px] text-black/70">Faixa saudável: {dashboardData.breakEven.base.range}</p>
            </div>
          </div>

          {/* COL 4 - Comparativo de mercado */}
          <div>
            <div className="flex flex-col gap-[2px] mb-3">
              <span className="font-semibold text-[11px] text-[#CACACA]">Comparativo de mercado</span>
              <span className="font-normal text-[10px] text-[#595959]">Onde você está no comparativo</span>
            </div>

            <div className="space-y-3">
              {dashboardData.marketComparison.map((item, idx) => (
                <div key={idx} className="flex items-center gap-3">
                  <div className="w-[42px] h-[42px] shrink-0">
                    {item.icon}
                  </div>
                  <div className="flex-1">
                    <span className="font-semibold text-[10px] text-[#CACACA]">{item.label}</span>
                    <p className="font-normal text-[8px] text-[#595959]">{item.sublabel}</p>
                  </div>
                  {item.value && <span className="font-semibold text-[10px] text-[#CACACA]">{item.value}</span>}
                  {item.badge && (
                    <span className="px-2 py-1 bg-[#1E1E1E] rounded text-[8px] text-[#959387]">{item.badge}</span>
                  )}
                </div>
              ))}
            </div>

            <button className="mt-4 w-full py-2.5 rounded-[8px] flex items-center justify-center gap-2">
              <svg width="80" height="13" viewBox="0 0 80 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.83718e-05 9.336V0.395998H3.15603C3.74803 0.395998 4.26803 0.507998 4.71603 0.731998C5.16403 0.955998 5.51203 1.276 5.76003 1.692C6.01603 2.108 6.14403 2.596 6.14403 3.156C6.14403 3.716 6.01603 4.204 5.76003 4.62C5.51203 5.028 5.16403 5.348 4.71603 5.58C4.27603 5.804 3.75603 5.916 3.15603 5.916H1.17603V9.336H2.83718e-05ZM1.17603 4.836H3.19203C3.55203 4.836 3.86403 4.768 4.12803 4.632C4.39203 4.496 4.59603 4.3 4.74003 4.044C4.88403 3.788 4.95603 3.492 4.95603 3.156C4.95603 2.812 4.88403 2.516 4.74003 2.268C4.59603 2.012 4.39203 1.816 4.12803 1.68C3.86403 1.544 3.55203 1.476 3.19203 1.476H1.17603V4.836ZM7.6024 9.336V0.251998H8.7184V9.336H7.6024ZM12.3461 9.48C11.9221 9.48 11.5461 9.404 11.2181 9.252C10.8981 9.092 10.6461 8.876 10.4621 8.604C10.2781 8.324 10.1861 8.004 10.1861 7.644C10.1861 7.3 10.2581 6.992 10.4021 6.72C10.5541 6.44 10.7861 6.204 11.0981 6.012C11.4181 5.82 11.8181 5.684 12.2981 5.604L14.6981 5.208V6.144L12.5501 6.504C12.1341 6.576 11.8301 6.708 11.6381 6.9C11.4541 7.092 11.3621 7.328 11.3621 7.608C11.3621 7.872 11.4661 8.092 11.6741 8.268C11.8901 8.444 12.1581 8.532 12.4781 8.532C12.8861 8.532 13.2381 8.448 13.5341 8.28C13.8381 8.104 14.0741 7.868 14.2421 7.572C14.4181 7.276 14.5061 6.948 14.5061 6.588V4.944C14.5061 4.592 14.3741 4.308 14.1101 4.092C13.8541 3.868 13.5141 3.756 13.0901 3.756C12.7221 3.756 12.3941 3.852 12.1061 4.044C11.8261 4.228 11.6181 4.476 11.4821 4.788L10.5101 4.284C10.6301 3.988 10.8221 3.724 11.0861 3.492C11.3501 3.252 11.6581 3.064 12.0101 2.928C12.3621 2.792 12.7301 2.724 13.1141 2.724C13.6101 2.724 14.0461 2.82 14.4221 3.012C14.7981 3.196 15.0901 3.456 15.2981 3.792C15.5141 4.12 15.6221 4.504 15.6221 4.944V9.336H14.5301V8.112L14.7341 8.184C14.5981 8.44 14.4141 8.664 14.1821 8.856C13.9501 9.048 13.6781 9.2 13.3661 9.312C13.0541 9.424 12.7141 9.48 12.3461 9.48ZM17.3524 9.336V2.868H18.4444V4.128L18.2644 4.02C18.4244 3.612 18.6804 3.296 19.0324 3.072C19.3924 2.84 19.8124 2.724 20.2924 2.724C20.7564 2.724 21.1684 2.828 21.5284 3.036C21.8964 3.244 22.1844 3.532 22.3924 3.9C22.6084 4.268 22.7164 4.684 22.7164 5.148V9.336H21.5884V5.508C21.5884 5.148 21.5244 4.844 21.3964 4.596C21.2684 4.348 21.0844 4.156 20.8444 4.02C20.6124 3.876 20.3444 3.804 20.0404 3.804C19.7364 3.804 19.4644 3.876 19.2244 4.02C18.9924 4.156 18.8084 4.352 18.6724 4.608C18.5364 4.856 18.4684 5.156 18.4684 5.508V9.336H17.3524ZM27.3853 9.48C26.7613 9.48 26.1973 9.336 25.6933 9.048C25.1893 8.752 24.7893 8.348 24.4933 7.836C24.1973 7.324 24.0493 6.744 24.0493 6.096C24.0493 5.448 24.1933 4.872 24.4813 4.368C24.7773 3.864 25.1773 3.464 25.6813 3.168C26.1853 2.872 26.7533 2.724 27.3853 2.724C28.0093 2.724 28.5733 2.872 29.0773 3.168C29.5813 3.456 29.9773 3.852 30.2653 4.356C30.5613 4.86 30.7093 5.44 30.7093 6.096C30.7093 6.752 30.5573 7.336 30.2533 7.848C29.9493 8.352 29.5453 8.752 29.0413 9.048C28.5453 9.336 27.9933 9.48 27.3853 9.48ZM27.3853 8.4C27.7853 8.4 28.1453 8.3 28.4653 8.1C28.7933 7.9 29.0493 7.624 29.2333 7.272C29.4253 6.92 29.5213 6.528 29.5213 6.096C29.5213 5.656 29.4253 5.268 29.2333 4.932C29.0493 4.588 28.7933 4.316 28.4653 4.116C28.1453 3.908 27.7853 3.804 27.3853 3.804C26.9773 3.804 26.6093 3.908 26.2813 4.116C25.9613 4.316 25.7053 4.588 25.5133 4.932C25.3213 5.268 25.2253 5.656 25.2253 6.096C25.2253 6.528 25.3213 6.92 25.5133 7.272C25.7053 7.624 25.9613 7.9 26.2813 8.1C26.6093 8.3 26.9773 8.4 27.3853 8.4ZM37.1791 9.48C36.5711 9.48 36.0231 9.332 35.5351 9.036C35.0551 8.74 34.6751 8.336 34.3951 7.824C34.1151 7.312 33.9751 6.74 33.9751 6.108C33.9751 5.46 34.1151 4.884 34.3951 4.38C34.6751 3.868 35.0551 3.464 35.5351 3.168C36.0231 2.872 36.5711 2.724 37.1791 2.724C37.7151 2.724 38.1911 2.84 38.6071 3.072C39.0231 3.296 39.3511 3.6 39.5911 3.984L39.4111 4.26V0.251998H40.5391V9.336H39.4471V7.956L39.5911 8.148C39.3671 8.572 39.0391 8.9 38.6071 9.132C38.1831 9.364 37.7071 9.48 37.1791 9.48ZM37.2751 8.4C37.6831 8.4 38.0471 8.3 38.3671 8.1C38.6871 7.9 38.9391 7.628 39.1231 7.284C39.3151 6.932 39.4111 6.54 39.4111 6.108C39.4111 5.668 39.3151 5.276 39.1231 4.932C38.9391 4.58 38.6871 4.304 38.3671 4.104C38.0471 3.904 37.6831 3.804 37.2751 3.804C36.8751 3.804 36.5111 3.908 36.1831 4.116C35.8631 4.316 35.6111 4.588 35.4271 4.932C35.2431 5.268 35.1511 5.66 35.1511 6.108C35.1511 6.54 35.2431 6.932 35.4271 7.284C35.6111 7.628 35.8631 7.9 36.1831 8.1C36.5031 8.3 36.8671 8.4 37.2751 8.4ZM45.2425 9.48C44.6185 9.48 44.0625 9.332 43.5745 9.036C43.0865 8.74 42.7025 8.336 42.4225 7.824C42.1425 7.304 42.0025 6.724 42.0025 6.084C42.0025 5.436 42.1385 4.86 42.4105 4.356C42.6905 3.852 43.0665 3.456 43.5385 3.168C44.0185 2.872 44.5545 2.724 45.1465 2.724C45.6265 2.724 46.0505 2.812 46.4185 2.988C46.7945 3.156 47.1105 3.388 47.3665 3.684C47.6305 3.972 47.8305 4.304 47.9665 4.68C48.1105 5.048 48.1825 5.432 48.1825 5.832C48.1825 5.92 48.1745 6.02 48.1585 6.132C48.1505 6.236 48.1385 6.336 48.1225 6.432H42.8185V5.472H47.4745L46.9465 5.904C47.0185 5.488 46.9785 5.116 46.8265 4.788C46.6745 4.46 46.4505 4.2 46.1545 4.008C45.8585 3.816 45.5225 3.72 45.1465 3.72C44.7705 3.72 44.4265 3.816 44.1145 4.008C43.8025 4.2 43.5585 4.476 43.3825 4.836C43.2145 5.188 43.1465 5.608 43.1785 6.096C43.1465 6.568 43.2185 6.984 43.3945 7.344C43.5785 7.696 43.8345 7.972 44.1625 8.172C44.4985 8.364 44.8625 8.46 45.2545 8.46C45.6865 8.46 46.0505 8.36 46.3465 8.16C46.6425 7.96 46.8825 7.704 47.0665 7.392L48.0025 7.872C47.8745 8.168 47.6745 8.44 47.4025 8.688C47.1385 8.928 46.8225 9.12 46.4545 9.264C46.0945 9.408 45.6905 9.48 45.2425 9.48ZM50.9798 9.336L54.1838 0.395998H55.5758L58.7798 9.336H57.5198L56.7878 7.236H52.9718L52.2398 9.336H50.9798ZM53.3438 6.156H56.4158L54.7118 1.248H55.0478L53.3438 6.156ZM62.5399 9.48C61.9079 9.48 61.3439 9.332 60.8479 9.036C60.3599 8.74 59.9759 8.336 59.6959 7.824C59.4159 7.312 59.2759 6.736 59.2759 6.096C59.2759 5.448 59.4159 4.872 59.6959 4.368C59.9759 3.864 60.3599 3.464 60.8479 3.168C61.3439 2.872 61.9079 2.724 62.5399 2.724C62.9639 2.724 63.3599 2.8 63.7279 2.952C64.0959 3.104 64.4199 3.308 64.6999 3.564C64.9799 3.82 65.1839 4.12 65.3119 4.464L64.3159 4.944C64.1639 4.608 63.9319 4.336 63.6199 4.128C63.3079 3.912 62.9479 3.804 62.5399 3.804C62.1479 3.804 61.7919 3.904 61.4719 4.104C61.1599 4.304 60.9119 4.576 60.7279 4.92C60.5439 5.264 60.4519 5.66 60.4519 6.108C60.4519 6.54 60.5439 6.932 60.7279 7.284C60.9119 7.628 61.1599 7.9 61.4719 8.1C61.7919 8.3 62.1479 8.4 62.5399 8.4C62.9479 8.4 63.3079 8.296 63.6199 8.088C63.9319 7.872 64.1639 7.588 64.3159 7.236L65.3119 7.74C65.1839 8.076 64.9799 8.376 64.6999 8.64C64.4199 8.896 64.0959 9.1 63.7279 9.252C63.3599 9.404 62.9639 9.48 62.5399 9.48ZM62.6839 12.12C62.4599 12.12 62.2279 12.08 61.9879 12C61.7479 11.928 61.5519 11.828 61.3999 11.7L61.6759 10.968C61.7959 11.072 61.9319 11.152 62.0839 11.208C62.2359 11.264 62.3839 11.292 62.5279 11.292C62.7039 11.292 62.8439 11.248 62.9479 11.16C63.0519 11.08 63.1039 10.972 63.1039 10.836C63.1039 10.66 63.0119 10.52 62.8279 10.416C62.6439 10.32 62.3519 10.248 61.9519 10.2L62.2279 9.216H62.9599L62.8279 9.756C63.2439 9.836 63.5599 9.976 63.7759 10.176C63.9999 10.376 64.1119 10.62 64.1119 10.908C64.1119 11.268 63.9759 11.56 63.7039 11.784C63.4399 12.008 63.0999 12.12 62.6839 12.12ZM68.5843 9.48C68.1603 9.48 67.7843 9.404 67.4563 9.252C67.1363 9.092 66.8843 8.876 66.7003 8.604C66.5163 8.324 66.4243 8.004 66.4243 7.644C66.4243 7.3 66.4963 6.992 66.6403 6.72C66.7923 6.44 67.0243 6.204 67.3363 6.012C67.6563 5.82 68.0563 5.684 68.5363 5.604L70.9363 5.208V6.144L68.7883 6.504C68.3723 6.576 68.0683 6.708 67.8763 6.9C67.6923 7.092 67.6003 7.328 67.6003 7.608C67.6003 7.872 67.7043 8.092 67.9123 8.268C68.1283 8.444 68.3963 8.532 68.7163 8.532C69.1243 8.532 69.4763 8.448 69.7723 8.28C70.0763 8.104 70.3123 7.868 70.4803 7.572C70.6563 7.276 70.7443 6.948 70.7443 6.588V4.944C70.7443 4.592 70.6123 4.308 70.3483 4.092C70.0923 3.868 69.7523 3.756 69.3283 3.756C68.9603 3.756 68.6323 3.852 68.3443 4.044C68.0643 4.228 67.8563 4.476 67.7203 4.788L66.7483 4.284C66.8683 3.988 67.0603 3.724 67.3243 3.492C67.5883 3.252 67.8963 3.064 68.2483 2.928C68.6003 2.792 68.9683 2.724 69.3523 2.724C69.8483 2.724 70.2843 2.82 70.6603 3.012C71.0363 3.196 71.3283 3.456 71.5363 3.792C71.7523 4.12 71.8603 4.504 71.8603 4.944V9.336H70.7683V8.112L70.9723 8.184C70.8363 8.44 70.6523 8.664 70.4203 8.856C70.1883 9.048 69.9163 9.2 69.6043 9.312C69.2923 9.424 68.9523 9.48 68.5843 9.48ZM70.1203 1.656C69.9043 1.656 69.7283 1.62 69.5923 1.548C69.4643 1.476 69.3523 1.392 69.2563 1.296C69.1603 1.2 69.0643 1.116 68.9683 1.044C68.8723 0.971998 68.7563 0.935998 68.6203 0.935998C68.4923 0.935998 68.3883 0.987998 68.3083 1.092C68.2363 1.188 68.2003 1.36 68.2003 1.608H67.3003C67.3003 1.072 67.4163 0.671998 67.6483 0.407998C67.8883 0.135998 68.1963 -2.14577e-06 68.5723 -2.14577e-06C68.7883 -2.14577e-06 68.9643 0.0359979 69.1003 0.107998C69.2363 0.179998 69.3523 0.263998 69.4483 0.359998C69.5443 0.455998 69.6363 0.539998 69.7243 0.611998C69.8203 0.683998 69.9363 0.719998 70.0723 0.719998C70.2163 0.719998 70.3283 0.663998 70.4083 0.551998C70.4883 0.431998 70.5283 0.263998 70.5283 0.047998H71.4163C71.4163 0.543998 71.2963 0.935998 71.0563 1.224C70.8163 1.512 70.5043 1.656 70.1203 1.656ZM76.6627 9.48C76.0387 9.48 75.4747 9.336 74.9707 9.048C74.4667 8.752 74.0667 8.348 73.7707 7.836C73.4747 7.324 73.3267 6.744 73.3267 6.096C73.3267 5.448 73.4707 4.872 73.7587 4.368C74.0547 3.864 74.4547 3.464 74.9587 3.168C75.4627 2.872 76.0307 2.724 76.6627 2.724C77.2867 2.724 77.8507 2.872 78.3547 3.168C78.8587 3.456 79.2547 3.852 79.5427 4.356C79.8387 4.86 79.9867 5.44 79.9867 6.096C79.9867 6.752 79.8347 7.336 79.5307 7.848C79.2267 8.352 78.8227 8.752 78.3187 9.048C77.8227 9.336 77.2707 9.48 76.6627 9.48ZM76.6627 8.4C77.0627 8.4 77.4227 8.3 77.7427 8.1C78.0707 7.9 78.3267 7.624 78.5107 7.272C78.7027 6.92 78.7987 6.528 78.7987 6.096C78.7987 5.656 78.7027 5.268 78.5107 4.932C78.3267 4.588 78.0707 4.316 77.7427 4.116C77.4227 3.908 77.0627 3.804 76.6627 3.804C76.2547 3.804 75.8867 3.908 75.5587 4.116C75.2387 4.316 74.9827 4.588 74.7907 4.932C74.5987 5.268 74.5027 5.656 74.5027 6.096C74.5027 6.528 74.5987 6.92 74.7907 7.272C74.9827 7.624 75.2387 7.9 75.5587 8.1C75.8867 8.3 76.2547 8.4 76.6627 8.4Z" fill="white"/>
              </svg>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M5.99998 4.5C5.86737 4.5 5.74019 4.44732 5.64643 4.35355C5.55266 4.25979 5.49998 4.13261 5.49998 4C5.49998 3.86739 5.55266 3.74021 5.64643 3.64645C5.74019 3.55268 5.86737 3.5 5.99998 3.5H12C12.1326 3.5 12.2598 3.55268 12.3535 3.64645C12.4473 3.74021 12.5 3.86739 12.5 4V10C12.5 10.1326 12.4473 10.2598 12.3535 10.3536C12.2598 10.4473 12.1326 10.5 12 10.5C11.8674 10.5 11.7402 10.4473 11.6464 10.3536C11.5527 10.2598 11.5 10.1326 11.5 10V5.20667L4.35331 12.3533C4.25853 12.4417 4.13316 12.4897 4.00363 12.4874C3.8741 12.4852 3.75051 12.4327 3.6589 12.3411C3.56729 12.2495 3.51481 12.1259 3.51253 11.9963C3.51024 11.8668 3.55833 11.7414 3.64665 11.6467L10.7933 4.5H5.99998Z" fill="white"/>
              </svg>
            </button>
          </div>
        </div>
        </div>
      </div>

      {/* BOTTOM ROW - Cards (full-width bg) */}
      <div className="bg-[#1B1B1D] pl-3 md:pl-[85px] pr-3 md:pr-6 py-3 w-full flex-1">
        <div className="max-w-[1500px] mx-auto w-full">
          <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
            <MoneyOnTable data={dashboardData.cards.moneyOnTable} />
            <TechnicalSheets data={dashboardData.cards.technicalSheets} />
            <CostStructure data={dashboardData.cards.costStructure} />
          </div>
        </div>
      </div>
      </>
      )}
    </div>
  );
};

export default Dashboard;
